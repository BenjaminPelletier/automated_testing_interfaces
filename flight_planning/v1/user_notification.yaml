info:
  title: Definitions used in flight planning interface for user notification.
components:
  schemas:
    ConflictNotification:
      type: object
      description: Notification of conflict with new/modified operations.
      required:
        - intersection_detected_at
        - notification_sent_at
      properties:
        intersection_detected_at:
          anyOf:
            - $ref: './geotemporal.yaml#/components/schemas/Time'
          description: >-
            Time at which the intersection with other operational_intents was detected by USS.
            For the purpose of tests, the value of intersection_detected_at is described below for two scenarios.
             - USS managing flights for a user, maintains awareness of any new or modified operational intents.
            Upon successfully receiving notification of a new or modified operation the USS responds with status 204 to the notifying USS, 
            and also checks for any intersections detected. The time the USS responds with 204 will be taken as the value of intersection_detected_at.
             - USS checks for intersections with existing operational intents while creating or modifying a flight for an UpsertFlightPlan request.
            When successful, the USS responds back with 200 status and a planning result as Completed. 
            The time USS responds with 200 will be taken as the value of intersection_detected_at.
        notification_sent_at:
          anyOf:
            - $ref: './geotemporal.yaml#/components/schemas/Time'
          description: Time at which the user or user's automated system was sent user notification about the conflict or intersection.
        conflicts_count:
          description: >-  
            Number of conflicting operational intents reported by the notification.
            If the user notification is triggered as a result of creating or modifying a flight, the conflicts_count
            can have value greater than 1, depending on number of conflicting operations detected.
            If the user notification is triggered by receipt of notification of a new or modified
            operational intent from another USS, the conflicts_count value is 1.                        
            If not provided, the default value is 0, which would only be correct if there were intersections with other entities,
            which will be defined in the future specification of this endpoint.
          type: integer
          minimum: 0